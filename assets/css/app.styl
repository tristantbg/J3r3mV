@import 'nib'
@import '../../node_modules/jeet/stylus/jeet'
@import '_mixins.styl'
@import './vendor/flickity.min.css'

$desktop = 1100px
$tablet = 900px
$padding = 30px

$primary ?= #fff

// CSS Reset
global-reset()
//edit()

webfont('AG', 'AG', true, 'normal')

boxsizing()

::-webkit-scrollbar
	display none

body,html
	width 100%
	height 100%
	background-color $primary

body
	font-family 'AG'
	text-rendering optimizeLegibility
	font-smoothing()
	font-size 21px
	line-height 1.1em
	+below($tablet)
		font-size 17px

p
	margin-bottom 1em

::selection
	background $secondary
	
::-moz-selection
	background $secondary

*
	hideselect()

a, a:hover, a:visited, a:focus
	color inherit
	text-decoration none
	cursor pointer

[data-target], [data-target]:visited, [data-target]:hover, [data-target]:focus
	font-family 'AG'

.columns
	margin-right -2rem
	
.column
	display inline-block
	vertical-align top
	padding-right 2rem
	
.columns-1 .column
	width 100%
	
.columns-2 .column
	width 50%
	
.columns-3 .column
	width 33.33%
	
.columns-4 .column
	width 25%
	
.columns-5 .column
	width 20%

.wrap
	height 100%
	span(1)
	//padding $padding

.loader
	position fixed
	width 100%
	height 100%
	top 0
	left 0
	background $primary
	z-index 10000

.container
	height 100%

header#main_menu
	position fixed
	bottom $padding
	left $padding
	z-index 1000
	ul .category
		transition(letter-spacing,300ms)
		letter-spacing 0
		cursor pointer
	ul .category:hover, ul .category.active
		letter-spacing .1em

.lazyload, .lazyloaded
	transition()

.lazyload
	opacity 0.3
	vendor(filter, blur(5px))

.lazyloaded
	opacity 1
	vendor(filter, blur(0px))

#about
	position fixed
	top $padding
	left $padding
	z-index 1000

#main_title
	transition(width)
	width 100%
	text-align center
	position fixed
	top 50%
	margin-top -1em
	pointer-events none
	z-index 1000
	h1
		transition(font-size)
		font-size 8vw

.projects
	transition(width)
	span(1)
	//flexbox()
	//justify-content space-between
	//flex-wrap wrap
	min-height 200vh
	.offset
		height 100vh
		width 100%
	.mouse_nav
		position absolute
		height 100px
		margin-top -45px
		pointer-events none
		flexbox()
		align-items center
	.project
		// position absolute
		// top 0
		// left 0
		// vendor(transform-style, preserve-3d)
		// transform-origin center
		// display inline-block
		position relative
		float left
		width 25%
		height 25vw
		transform-origin center
		img
			position absolute
			width 50%
			height auto
			top 50%
			left 50%
			transform(translate(-50%,-50%))

.content
	transition(left)
	span(1/2)
	position fixed
	left 100%
	height 100vh
	overflow-y scroll
	z-index 1000
	background $primary
	.inner
		padding $padding
		overflow-y scroll
	h1
		text-transform uppercase
	h1, p, img
		margin-bottom $padding
	img
		width 100%
		
.content::before
	transition(left)
	content ''
	background: #000000
	width 1px
	height 'calc(100% - %s * 2)' % ($padding)
	position fixed
	top $padding
	left 100%

body.page
	#main_title
		width 50%
		h1
			font-size 6vw
	.projects
		span(1/2)
		.project
			height 13vw
	.content
		left 50%
	.content::before
		left 50%

#about-page
	.left, .right
		span(1/2)
	.right
		height 'calc(100vh - %s * 2)' % ($padding)
		flexbox()
		flex-direction column
		justify-content space-between
	.right::before, .right::after
		content none
	.subtitle
		margin-bottom 1em
		flowing-paragraph(1em)
		p
			margin-bottom 0
	.page_link
		margin-left 1em
	.clients_content
		margin-left 1em
	.copyright
		font-size .7rem
		line-height 1.1em
		p
			margin-bottom 0