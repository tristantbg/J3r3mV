function rand(a,b){return Math.floor(Math.random()*(b-a+1))+a}function arrayRand(a){var b=a[Math.floor(Math.random()*a.length)];return b}function init(){}var width=$(window).width(),height=$(window).height(),$slidecontainer,$body,$intro,$mouse_nav;$(function(){var a={init:function(){$(window).load(function(){a.deferImages(),$(".loader").fadeOut(300),hasher.init()}),$(window).resize(function(b){a.sizeSet()}),$(document).ready(function(b){function c(c,e){d=hasher.getHashAsArray();var f=b('*[data-target="'+c+'"]');if("filter"==d[0]){var g=d[1];"all"==g?($categories.removeClass("active"),$projects.removeClass("hidden"),TweenMax.to($projects,.5,{scale:1,autoAlpha:1,ease:Power1.easeInOut})):($categories.removeClass("active"),f.addClass("active"),TweenMax.to(b(".project.hidden"),.5,{scale:1,autoAlpha:1,ease:Power1.easeInOut}),$targets=b('.project:not([data-filter="'+g+'"])').addClass("hidden"),TweenMax.to($targets,.5,{scale:0,autoAlpha:0,rotation:0,ease:Power1.easeInOut}))}else a.loadContent(c+"/ajax",$slidecontainer)}$body=b("body"),$intro=b(".intro"),$slidecontainer=b(".content"),$projects=b(".project"),$categories=b("ul .category"),$mouse_nav=b(".mouse_nav");var d;hasher.changed.add(c),hasher.initialized.add(c),b("[data-target]").bind("click",function(a){$el=b(this),a.preventDefault(),$el.is(".intro")?setTimeout(function(){hasher.setHash($el.data("target"))},1100):hasher.setHash($el.data("target"))}),b(".intro").click(function(a){b(this).addClass("closed")}),$projects.hover(function(){$mouse_nav.html(b(this).data("title"))},function(){$mouse_nav.html("")}),b(document).keyup(function(a){27===a.keyCode&&hasher.setHash("index")}),b(document).keyup(function(b){37===b.keyCode&&$slider&&a.goPrev($slider)}),b(document).keyup(function(b){39===b.keyCode&&$slider&&a.goNext($slider)}),a.scrollEffect(),Modernizr.touch?a.mobileMenu():(a.mouseNav(),a.mouseNav())})},sizeSet:function(){width=$(window).width(),height=$(window).height()},mouseNav:function(){$(window).mousemove(function(a){posX=a.pageX,posY=a.pageY,posX<width/4?$(".mouse_nav").css({top:posY+"px",left:posX+20+"px"}):$(".mouse_nav").css({top:posY+"px",left:posX-$mouse_nav.outerWidth()-20+"px"})})},scrollEffect:function(){for(var a=new ScrollMagic.Controller({globalSceneOptions:{triggerHook:"onEnter"}}),b=new ScrollMagic.Controller,c=$("#main_menu").css("left"),d=(new TimelineMax).to("#main_menu",0,{x:"-100%",left:"0"}).to("#about",0,{x:"-100%",left:"0"}).to("#main_title",.6,{opacity:"0"}).to("#main_menu",.3,{x:"0%",left:c},"-=0.3").to("#about",.3,{x:"0%",left:c},"-=0.3"),e=(new ScrollMagic.Scene({triggerElement:".projects",duration:"100%"}).setTween(d).addTo(a),document.querySelectorAll(".project")),f=0;f<e.length;f++)new ScrollMagic.Scene({triggerElement:e[f],duration:"100%"}).setTween(e[f],{y:rand(30,-100)+"%",rotation:rand(-30,30)}).addTo(b)},mobileMenu:function(){$("ul.category .title").click(function(a){var b=$(this).parent();b.hasClass("active")||($("ul.category.active").removeClass("active").find("ul.albums").slideToggle(800),b.addClass("active").find("ul.albums").slideToggle(800))})},loadContent:function(a,b){$.ajax({url:a,success:function(a){$(b).html(a),$body.addClass("page")}})},deferImages:function(){for(var a=document.getElementsByTagName("img"),b=0;b<a.length;b++)a[b].getAttribute("data-src")&&a[b].setAttribute("src",a[b].getAttribute("data-src"))}};a.init()}),init();
//# sourceMappingURL=app.min.js.map