function rand(a,b){return Math.floor(Math.random()*(b-a+1))+a}function arrayRand(a){var b=a[Math.floor(Math.random()*a.length)];return b}function init(){}var width=$(window).width(),height=$(window).height(),$slider,$body,$intro,flkty,flickityFirst=!0,lastCell=!1;$(function(){var a={init:function(){$(window).load(function(){a.deferImages(),$(".loader").fadeOut(300),hasher.init()}),$(window).resize(function(a){}),$(document).ready(function(b){function c(c,f){console.log(f),d=hasher.getHashAsArray();var g=b('*[data-target="'+c+'"]');"index"==d[0]&&(null!=f&&$intro.remove(),$body.removeClass("album infos"),null!=$slider&&$slider.flickity("destroy").empty().show()),"infos"==d[0]&&($intro.remove(),$body.addClass("infos")),"work"==d[0]&&($intro.remove(),$body.addClass("album loading"),a.loadContent(g.attr("href")+"/ajax",e))}$body=b("body"),$intro=b(".intro");var d;hasher.changed.add(c),hasher.initialized.add(c),b("[data-target]").bind("click",function(a){$el=b(this),a.preventDefault(),$el.is(".intro")?setTimeout(function(){hasher.setHash($el.data("target"))},1100):hasher.setHash($el.data("target"))}),b(".intro").click(function(a){b(this).addClass("closed")}),b(document).keyup(function(a){27===a.keyCode&&hasher.setHash("index")}),b(document).keyup(function(b){37===b.keyCode&&$slider&&a.goPrev($slider)}),b(document).keyup(function(b){39===b.keyCode&&$slider&&a.goNext($slider)}),Modernizr.touch?a.mobileMenu():(a.mouseNav(),b(window).mousemove(function(b){a.mouseNav()}));var e=b('.container .slider:not(".hover")');b(".main_menu .albums a").hover(function(){var a=b(this).data("target");b('.slider.hover .gallery_cell[data-title="'+a+'"]').removeClass("hidden")},function(){$body.hasClass("loading")||b(".slider.hover .gallery_cell").addClass("hidden")})})},mouseNav:function(){posX=event.pageX,posY=event.pageY,$(".mouse_nav").css({top:posY+"px",left:posX+"px"})},mobileMenu:function(){$("ul.category .title").click(function(a){var b=$(this).parent();b.hasClass("active")||($("ul.category.active").removeClass("active").find("ul.albums").slideToggle(800),b.addClass("active").find("ul.albums").slideToggle(800))})},checkLastCell:function(a){a.selectedIndex<a.cells.length-1&&(lastCell=!1),lastCell&&hasher.setHash("index"),a.selectedIndex==a.cells.length-1&&(lastCell=!0)},loadSlider:function(){$slider=$(".slider.albumslider").flickity({cellSelector:".gallery_cell",imagesLoaded:!0,lazyLoad:1,setGallerySize:!1,wrapAround:!1,prevNextButtons:!1,pageDots:!1}),flkty=$slider.data("flickity"),lastCell=!1,a.checkLastCell(flkty),flickityFirst&&($slider.on("staticClick",function(b,c,d,e){d&&a.goNext($slider)}),$slider.on("lazyLoad",function(a,b){setTimeout(function(){$body.removeClass("loading"),$(".slider.hover .gallery_cell").addClass("hidden")},1e3)}),$slider.on("cellSelect",function(){var a=$(".albumslider .gallery_cell").eq(flkty.selectedIndex).data("caption");null!=a?$(".albumslider .caption").html(a):$(".albumslider .caption").empty()}),$(".prev").bind("click",function(b){b.preventDefault(),a.goPrev($slider)}),$(".next").bind("click",function(b){b.preventDefault(),a.goNext($slider)}),flickityFirst=!1)},goNext:function(b){b.flickity("next",!1),a.checkLastCell(flkty)},goPrev:function(b){b.flickity("previous",!1),a.checkLastCell(flkty)},loadContent:function(b,c){$.ajax({url:b,success:function(b){$(c).html(b),a.loadSlider()}})},deferImages:function(){for(var a=document.getElementsByTagName("img"),b=0;b<a.length;b++)a[b].getAttribute("data-src")&&a[b].setAttribute("src",a[b].getAttribute("data-src"))}};a.init()}),init();
//# sourceMappingURL=app.min.js.map