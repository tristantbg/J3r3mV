function rand(a,b){return Math.floor(Math.random()*(b-a+1))+a}function arrayRand(a){var b=a[Math.floor(Math.random()*a.length)];return b}function init(){}var width=$(window).width(),height=$(window).height(),$slider,flkty,flickityFirst=!0,lastCell=!1;$(function(){var a={init:function(){$(window).load(function(){$(".loader").fadeOut("fast"),hasher.init()}),$(window).resize(function(a){}),$(document).ready(function(b){function c(c,h){console.log(c),d=hasher.getHashAsArray();var i=b('*[data-target="'+c+'"]');"index"==d[0]&&(null!=h&&f.remove(),e.removeClass("album infos"),null!=$slider&&$slider.delay(600).fadeOut("200",function(){b(this).flickity("destroy").empty().show()})),"infos"==d[0]&&(f.remove(),e.addClass("infos")),"work"==d[0]&&(f.remove(),a.loadContent(i.attr("href")+"/ajax",g),e.addClass("album"))}var d,e=b("body"),f=b(".intro");hasher.changed.add(c),hasher.initialized.add(c),b("[data-target]").bind("click",function(a){$el=b(this),a.preventDefault(),hasher.setHash(b(this).data("target"))}),b(".intro").click(function(a){b(this).addClass("closed")});var g=b('.container .slider:not(".hover")');b(".main_menu .albums a").hover(function(){var a=b(this).data("target");b('.slider.hover .gallery_cell[data-title="'+a+'"]').removeClass("hidden")},function(){b(".slider.hover .gallery_cell").addClass("hidden")})})},checkLastCell:function(a){a.selectedIndex<a.cells.length-1&&(lastCell=!1),lastCell&&hasher.setHash("index"),a.selectedIndex==a.cells.length-1&&(lastCell=!0)},loadSlider:function(){$slider=$(".slider.albumslider").flickity({cellSelector:".gallery_cell",imagesLoaded:!0,lazyLoad:1,prevNextButtons:!1,pageDots:!1}),flkty=$slider.data("flickity"),lastCell=!1,flickityFirst&&($slider.on("staticClick",function(b,c,d,e){d&&($(this).flickity("next",!1),a.checkLastCell(flkty))}),$(".prev").bind("click",function(b){b.preventDefault(),$slider.flickity("previous",!1),a.checkLastCell(flkty)}),$(".next").bind("click",function(b){b.preventDefault(),$slider.flickity("next",!1),a.checkLastCell(flkty)}),flickityFirst=!1)},loadContent:function(b,c){$.ajax({url:b,success:function(b){$(c).html(b),a.loadSlider()}})}};a.init()}),init();
//# sourceMappingURL=app.min.js.map